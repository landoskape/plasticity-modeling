# Simulation parameters
num_simulations: 1
dt: 1e-3

# Neuron configuration
neuron:
  time_constant: 20e-3
  resistance: 100e6
  reset_voltage: -70e-3
  spike_threshold: -50e-3
  dt: 1e-3
  use_homeostasis: true
  homeostasis_tau: 20.0
  homeostasis_set_point: 10.0

# Source population configuration
sources:
  excitatory: 
    type: gabor
    edge_probability: 1.0
    concentration: 1.0
    baseline_rate: 5.0
    driven_rate: 45.0
    tau_stim: 10e-3

  inhibitory: 
    type: poisson
    num_inputs: 100
    rates: 10.0
    tau_stim: inf

# Synapse group configurations
synapses:
  proximal:
    type: sourced
    plastic: true
    num_synapses: 400
    max_weight: 300e-12
    reversal: 0.0
    tau: 10e-3
    dt: 1e-3
    source_population: excitatory
    conductance_threshold: 0.1
    source: 
      num_presynaptic_neurons: 36
      num_synapses: 400
      source_rule: divided-restricted
      valid_sources: [16, 17, 18, 19]
    
    initialization:
      min_weight: 0.0
      max_weight: 1.0

    # Plasticity configuration for basal synapses
    plasticity:
      use_stdp: true
      stdp_rate: 0.01
      depression_potentiation_ratio: 1.1
      potentiation_tau: 20e-3
      depression_tau: 20e-3
      use_homeostasis: true
      homeostasis_tau: 20.0
      homeostasis_scale: 1.0

    # Replacement configuration for basal synapses
    replacement:
      use_replacement: false

  distal-simple:
    type: sourced
    plastic: true
    num_synapses: 180
    max_weight: 100e-12
    reversal: 0.0
    tau: 10e-3
    dt: 1e-3
    source_population: excitatory
    conductance_threshold: 0.1
    source: 
      num_presynaptic_neurons: 36
      num_synapses: 180
      source_rule: divided
    
    initialization:
      min_weight: 0.0
      max_weight: 1.0

    # Plasticity configuration for basal synapses
    plasticity:
      use_stdp: true
      stdp_rate: 0.01
      depression_potentiation_ratio: 1.1
      potentiation_tau: 20e-3
      depression_tau: 20e-3
      use_homeostasis: true
      homeostasis_tau: 20.0
      homeostasis_scale: 1.0

    # Replacement configuration for basal synapses
    replacement:
      use_replacement: false

  distal-complex:
    type: sourced
    plastic: true
    num_synapses: 180
    max_weight: 100e-12
    reversal: 0.0
    tau: 10e-3
    dt: 1e-3
    source_population: excitatory
    conductance_threshold: 0.1
    source: 
      num_presynaptic_neurons: 36
      num_synapses: 180
      source_rule: divided
    
    initialization:
      min_weight: 0.0
      max_weight: 1.0

    # Plasticity configuration for basal synapses
    plasticity:
      use_stdp: true
      stdp_rate: 0.01
      depression_potentiation_ratio: 1.1
      potentiation_tau: 20e-3
      depression_tau: 20e-3
      use_homeostasis: true
      homeostasis_tau: 20.0
      homeostasis_scale: 1.0

    # Replacement configuration for basal synapses
    replacement:
      use_replacement: false

  # Inhibitory synapses
  inhibitory:
    type: direct
    plastic: false
    num_synapses: 100
    max_weight: 100e-12
    reversal: -70e-3
    tau: 15e-3
    conductance_threshold: 0.0
    dt: 1e-3
    source_population: inhibitory

    initialization:
      min_weight: 1.0
      max_weight: 1.0

    # Plasticity configuration for inhibitory synapses
    plasticity:
      use_stdp: false
      use_homeostasis: false