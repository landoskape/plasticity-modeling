# Simulation parameters
duration: 200
dt: 1e-3
seed: null 

# Source population configuration
sources:
  excitatory: 
    type: correlation
    num_inputs: 40
    max_correlation: 0.4
    decay_function: linear
    rate_std: 10.0
    rate_mean: 20.0
    tau_stim: 10e-3
    seed: null

  inhibitory: 
    type: poisson
    num_inputs: 200
    rates: 10.0
    tau_stim: 0.01
    seed: null

# Neuron configuration
neuron:
  time_constant: 20e-3
  resistance: 100e6
  reset_voltage: -70e-3
  spike_threshold: -50e-3
  dt: 1e-3
  use_homeostasis: true
  homeostasis_tau: 20.0
  homeostasis_set_point: 10.0

# Synapse group configurations
synapses:
  basal:
    type: sourced
    plastic: true
    num_synapses: 1000
    max_weight: 80e-12
    reversal: 0.0
    tau: 10e-3
    dt: 1e-3
    source_population: excitatory
    conductance_threshold: 0.1
    source: 
      num_presynaptic_neurons: 40
      num_synapses: 1000
      source_rule: divided
    
    initialization:
      min_weight: 0.0
      max_weight: 1.0

    # Plasticity configuration for basal synapses
    plasticity:
      use_stdp: true
      stdp_rate: 0.01
      depression_potentiation_ratio: 1.1
      potentiation_tau: 20e-3
      depression_tau: 20e-3
      use_homeostasis: true
      homeostasis_tau: 20.0
      homeostasis_scale: 1.0

    replacement:
      use_replacement: false
  
  # Apical synapses (excitatory with different plasticity)
  apical:
    type: sourced
    plastic: true
    num_synapses: 40
    max_weight: 1e-12
    reversal: 0.0
    tau: 10e-3
    dt: 1e-3
    source_population: excitatory
    conductance_threshold: 0.1
    source: 
      num_presynaptic_neurons: 40
      num_synapses: 40
      source_rule: divided

    initialization:
      min_weight: 0.0
      max_weight: 1.0
    
    # Plasticity configuration for apical synapses
    plasticity:
      use_stdp: true
      stdp_rate: 0.01
      depression_potentiation_ratio: 1.0
      potentiation_tau: 20e-3
      depression_tau: 20e-3
      use_homeostasis: true
      homeostasis_tau: 20.0
      homeostasis_scale: 1.0

    replacement:
      use_replacement: false

  # Inhibitory synapses
  inhibitory:
    type: direct
    plastic: false
    num_synapses: 200
    max_weight: 100e-12
    reversal: -70e-3
    tau: 15e-3
    conductance_threshold: 0.0
    dt: 1e-3
    source_population: inhibitory

    initialization:
      min_weight: 1.0
      max_weight: 1.0

    # Plasticity configuration for inhibitory synapses
    plasticity:
      use_stdp: false
      use_homeostasis: false